<div id="{{getUniqueId()}}" class="row cornered-panel">
    <div class="row">
        <img class="machine-image" src="/assets/media/Creality3DEnder3Pro.png">
    </div>
    <div style="margin-left: 10px;">
        <div class="field label-width">
            <span cy-field-label="ETIQUETA" class="label">ETIQUETA</span><br>
            <span cy-field-value="ETIQUETA" cy-name="machine-label" class="field-height machine-label">{{getLabel()}}</span>
        </div>
        <div class="field part-count-width">
            <span cy-field-label="MODEL" class="label">MODEL</span><br>
            <span cy-field-value="MODEL" cy-name="machine-model" class="field-height">{{getModel()}}</span>
        </div>
        <div class="field part-count-width">
            <span cy-field-label="CARACTERISTICAS" class="label">CARACTERISTICAS</span><br>
            <span cy-field-value="CARACTERISTICAS" cy-name="machine-characteristics" class="field-height">{{getCharacteristics()}}</span>
        </div>
        <div class="field machine-part-width">
            <span cy-field-label="PIEZA" class="label">PIEZA EN PRODUCCION</span><br>
            <div *ngIf="!target">
                <div cy-name="drop-job" class="machine-job" droppable [dropScope]="'JOB'" [dragOverClass]="'drag-over'" [dragHintClass]="'drag-hint'" (onDrop)="onDrop($event)"><span name="drop-job">TRABAJO PENDIENTE</span>
                </div>
            </div>
            <div *ngIf="target" class="set-job">
                <v1-pending-job [node]="target" [machine]="self" [variant]="'-BUILDING-JOB-'"></v1-pending-job>
            </div>
        </div>
    </div>
    <div class="column" style="flex-grow: 1;" *ngIf="target">
        <v1-build-countdown-timer [parent]="self" [time]="getBuildTime()"></v1-build-countdown-timer>
        <div cy-name="start-button" class="start-width" *ngIf="state=='IDLE'">
            <div style="position: relative;">
                <button cy-name="START-BUILD" class="button ok-button" (click)="startBuild()">
                    <span><img class="button-icon"src="/assets/media/done-white-36dp.svg"></span><span class="button-label">Comenzar</span>
                </button>
                <svg class="button-right-border" viewBox="0 0 100 100">
                    <path d="M100,100 L0,100 L100,0 L100,100" fill="white" />
                </svg>
                <svg class="button-right-clear" viewBox="0 0 100 100">
                    <path d="M100,100 L0,100 L100,0 L100,100" fill="black" />
                </svg>
                <svg class="button-left-border" viewBox="0 0 100 100">
                    <path d="M0,0 L0,100 L100,0 L0,0" fill="white" />
                </svg>
                <svg class="button-left-clear" viewBox="0 0 100 100">
                    <path d="M0,0 L0,100 L100,0 L0,0" fill="black" />
                </svg>
                <div>
                    <svg class="button-right-mark ok-mark" viewBox="0 0 100 100">
                        <path d="M100,100 L0,100 L100,0 L100,100"  />
                    </svg>
                    <svg class="button-left-mark ok-mark" viewBox="0 0 100 100">
                        <path d="M0,0 L0,100 L100,0 L0,0"  />
                    </svg>
                </div>
            </div>
        </div>
        <div cy-name="start-button" class="start-width" *ngIf="state=='COMPLETED'">
            <div style="position: relative;">
                <button cy-name="COMPLETE" class="button ok-button" (click)="completeBuild()">
                    <span><img class="button-icon"src="/assets/media/done-white-36dp.svg"></span><span class="button-label">Completar</span>
                </button>
                <svg class="button-right-border" viewBox="0 0 100 100">
                    <path d="M100,100 L0,100 L100,0 L100,100" fill="white" />
                </svg>
                <svg class="button-right-clear" viewBox="0 0 100 100">
                    <path d="M100,100 L0,100 L100,0 L100,100" fill="black" />
                </svg>
                <svg class="button-left-border" viewBox="0 0 100 100">
                    <path d="M0,0 L0,100 L100,0 L0,0" fill="white" />
                </svg>
                <svg class="button-left-clear" viewBox="0 0 100 100">
                    <path d="M0,0 L0,100 L100,0 L0,0" fill="black" />
                </svg>
                <div>
                    <svg class="button-right-mark ok-mark" viewBox="0 0 100 100">
                        <path d="M100,100 L0,100 L100,0 L100,100" />
                    </svg>
                    <svg class="button-left-mark ok-mark" viewBox="0 0 100 100">
                        <path d="M0,0 L0,100 L100,0 L0,0"  />
                    </svg>
                </div>
            </div>
        </div>
        <div cy-name="clear-button" class="start-width" *ngIf="state=='IDLE'">
            <div style="position: relative;">
                <button cy-name="CLEAR" class="button cancel-button" (click)="onClear()">
                    <span><img class="button-icon"src="/assets/media/close-white-36dp.svg"></span><span class="button-label">Clear</span>
                </button>
                <svg class="button-right-border" viewBox="0 0 100 100">
                    <path d="M100,100 L0,100 L100,0 L100,100" fill="white" />
                </svg>
                <svg class="button-right-clear" viewBox="0 0 100 100">
                    <path d="M100,100 L0,100 L100,0 L100,100" fill="black" />
                </svg>
                <svg class="button-left-border" viewBox="0 0 100 100">
                    <path d="M0,0 L0,100 L100,0 L0,0" fill="white" />
                </svg>
                <svg class="button-left-clear" viewBox="0 0 100 100">
                    <path d="M0,0 L0,100 L100,0 L0,0" fill="black" />
                </svg>
                <div>
                    <svg class="button-right-mark orange-mark" viewBox="0 0 100 100">
                        <path d="M100,100 L0,100 L100,0 L100,100" />
                    </svg>
                    <svg class="button-left-mark orange-mark" viewBox="0 0 100 100">
                        <path d="M0,0 L0,100 L100,0 L0,0" />
                    </svg>
                </div>
            </div>
        </div>
        <div cy-name="cancel-button" class="start-width" *ngIf="state=='RUNNING' || state=='COMPLETED'">
            <div style="position: relative;">
                <button cy-name="CANCEL" class="button clear-button" (click)="onClear()">
                    <span><img class="button-icon"src="/assets/media/close-white-36dp.svg"></span><span class="button-label">Cancelar</span>
                </button>
                <svg class="button-right-border" viewBox="0 0 100 100">
                    <path d="M100,100 L0,100 L100,0 L100,100" fill="white" />
                </svg>
                <svg class="button-right-clear" viewBox="0 0 100 100">
                    <path d="M100,100 L0,100 L100,0 L100,100" fill="black" />
                </svg>
                <svg class="button-left-border" viewBox="0 0 100 100">
                    <path d="M0,0 L0,100 L100,0 L0,0" fill="white" />
                </svg>
                <svg class="button-left-clear" viewBox="0 0 100 100">
                    <path d="M0,0 L0,100 L100,0 L0,0" fill="black" />
                </svg>
                <div>
                    <svg class="button-right-mark orange-mark" viewBox="0 0 100 100">
                        <path d="M100,100 L0,100 L100,0 L100,100"  />
                    </svg>
                    <svg class="button-left-mark orange-mark" viewBox="0 0 100 100">
                        <path d="M0,0 L0,100 L100,0 L0,0"  />
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <svg class="corner-border" viewBox="0 0 100 100">
        <path d="M100,100 L0,100 L100,0 L100,100" fill="white" />
    </svg>
    <svg class="corner-clear" viewBox="0 0 100 100">
        <path d="M100,100 L0,100 L100,0 L100,100" fill="#180A16" />
    </svg>
    <svg cy-field-mark="REQUEST" class="corner-mark completed-request" viewBox="0 0 100 100">
        <path d="M100,100 L0,100 L100,0 L100,100" />
    </svg>
</div>